{"version":3,"file":"js/171.af9b3921.js","mappings":"06BAoEA,MAAMA,GAAYC,EAAAA,EAAAA,MACZ,QAAEC,GAAYF,EAEdG,GAAQC,EAAAA,EAAAA,IAAI,CAChBC,KAAM,CAAC,IAEHC,GAAUF,EAAAA,EAAAA,IAAI,IACdG,GAAYH,EAAAA,EAAAA,KAAI,GAEhBI,EAAWA,KACfD,EAAUE,OAAQ,EAClB,MAAMC,EAAO,gEAAkEJ,EAAQG,QACvFE,EAAAA,EAAAA,IAAUD,GACPE,MAAMC,IACDA,EAAIC,KAAKC,UACXZ,EAAMM,MAAQI,EAAIC,KAAKX,MACvBD,IACAK,EAAUE,OAAQ,EACpB,GACA,EAGAO,EAAWA,KACfT,EAAUE,OAAQ,EAClB,MAAMC,EAAO,8DAAgEJ,EAAQG,QACrFE,EAAAA,EAAAA,KAAWD,GACRE,MAAMC,IACDA,EAAIC,KAAKC,SACXP,GACF,GACA,EAGAS,GAAQC,EAAAA,EAAAA,M,OACdC,EAAAA,EAAAA,KAAU,KACRb,EAAQG,MAAQQ,EAAMG,OAAOd,QAC7BE,GAAU,I,4tCCrGZ,MAAMa,EAAc,EAEpB,O","sources":["webpack://wowcofee_project/./src/views/front/UserCheckout.vue","webpack://wowcofee_project/./src/views/front/UserCheckout.vue?0263"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"my-5 row justify-content-center\">\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n      <table class=\"table align-middle\">\n        <thead>\n          <th>品項</th>\n          <th>數量</th>\n          <th>單價</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}</td>\n            <td class=\"text-end\">{{ $filters.currency(item.final_total) }}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"2\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ $filters.currency(order.total) }}</td>\n          </tr>\n        </tfoot>\n      </table>\n\n      <table class=\"table\">\n        <tbody>\n          <tr>\n            <th width=\"100\">訂單編號</th>\n            <td>{{ orderId }}</td>\n          </tr>\n          <tr>\n            <th width=\"100\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>收件人電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>收件人地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>付款狀態</th>\n            <td>\n              <span v-if=\"!order.is_paid\">尚未付款</span>\n              <span v-else class=\"text-success\">付款完成</span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-end\" v-if=\"order.is_paid === false\">\n        <button class=\"btn btn-outline-danger\">確認付款去</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport axios from 'axios'\nimport { useCartStore } from '@/stores/cartStore'\nconst cartStore = useCartStore()\nconst { getCart } = cartStore\n\nconst order = ref({\n  user: {}\n})\nconst orderId = ref('')\nconst isLoading = ref(false)\n\nconst getOrder = () => {\n  isLoading.value = true\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${orderId.value}`\n  axios.get(url)\n    .then((res) => {\n      if (res.data.success) {\n        order.value = res.data.order\n        getCart()\n        isLoading.value = false\n      }\n    })\n}\n\nconst payOrder = () => {\n  isLoading.value = true\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${orderId.value}`\n  axios.post(url)\n    .then((res) => {\n      if (res.data.success) {\n        getOrder()\n      }\n    })\n}\n\nconst route = useRoute()\nonMounted(() => {\n  orderId.value = route.params.orderId\n  getOrder()\n})\n</script>\n","import script from \"./UserCheckout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["cartStore","useCartStore","getCart","order","ref","user","orderId","isLoading","getOrder","value","url","axios","then","res","data","success","payOrder","route","useRoute","onMounted","params","__exports__"],"sourceRoot":""}