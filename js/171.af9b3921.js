"use strict";(self["webpackChunkwowcofee_project"]=self["webpackChunkwowcofee_project"]||[]).push([[171],{171:function(l,t,e){e.r(t),e.d(t,{default:function(){return S}});var u=e(3396),a=e(9242),n=e(7139),s=e(4870),r=e(2483),c=e(4161),o=e(4677);const i={class:"my-5 row justify-content-center"},d=["onSubmit"],_={class:"table align-middle"},w=(0,u._)("thead",null,[(0,u._)("th",null,"品項"),(0,u._)("th",null,"數量"),(0,u._)("th",null,"單價")],-1),v={class:"text-end"},p=(0,u._)("td",{colspan:"2",class:"text-end"},"總計",-1),h={class:"text-end"},b={class:"table"},m=(0,u._)("th",{width:"100"},"訂單編號",-1),f=(0,u._)("th",{width:"100"},"Email",-1),y=(0,u._)("th",null,"姓名",-1),g=(0,u._)("th",null,"收件人電話",-1),k=(0,u._)("th",null,"收件人地址",-1),z=(0,u._)("th",null,"付款狀態",-1),x={key:0},D={key:1,class:"text-success"},H={key:0,class:"text-end"},j=(0,u._)("button",{class:"btn btn-outline-danger"},"確認付款去",-1),C=[j];var $={__name:"UserCheckout",setup(l){const t=(0,o.x)(),{getCart:e}=t,j=(0,s.iH)({user:{}}),$=(0,s.iH)(""),q=(0,s.iH)(!1),S=()=>{q.value=!0;const l=`https://vue3-course-api.hexschool.io/api/wowcowman-api/order/${$.value}`;c.Z.get(l).then((l=>{l.data.success&&(j.value=l.data.order,e(),q.value=!1)}))},Y=()=>{q.value=!0;const l=`https://vue3-course-api.hexschool.io/api/wowcowman-api/pay/${$.value}`;c.Z.post(l).then((l=>{l.data.success&&S()}))},Z=(0,r.yj)();return(0,u.bv)((()=>{$.value=Z.params.orderId,S()})),(l,t)=>{const e=(0,u.up)("Loading");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(e,{active:q.value},null,8,["active"]),(0,u._)("div",i,[(0,u._)("form",{class:"col-md-6",onSubmit:(0,a.iM)(Y,["prevent"])},[(0,u._)("table",_,[w,(0,u._)("tbody",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(j.value.products,(t=>((0,u.wg)(),(0,u.iD)("tr",{key:t.id},[(0,u._)("td",null,(0,n.zw)(t.product.title),1),(0,u._)("td",null,(0,n.zw)(t.qty),1),(0,u._)("td",v,(0,n.zw)(l.$filters.currency(t.final_total)),1)])))),128))]),(0,u._)("tfoot",null,[(0,u._)("tr",null,[p,(0,u._)("td",h,(0,n.zw)(l.$filters.currency(j.value.total)),1)])])]),(0,u._)("table",b,[(0,u._)("tbody",null,[(0,u._)("tr",null,[m,(0,u._)("td",null,(0,n.zw)($.value),1)]),(0,u._)("tr",null,[f,(0,u._)("td",null,(0,n.zw)(j.value.user.email),1)]),(0,u._)("tr",null,[y,(0,u._)("td",null,(0,n.zw)(j.value.user.name),1)]),(0,u._)("tr",null,[g,(0,u._)("td",null,(0,n.zw)(j.value.user.tel),1)]),(0,u._)("tr",null,[k,(0,u._)("td",null,(0,n.zw)(j.value.user.address),1)]),(0,u._)("tr",null,[z,(0,u._)("td",null,[j.value.is_paid?((0,u.wg)(),(0,u.iD)("span",D,"付款完成")):((0,u.wg)(),(0,u.iD)("span",x,"尚未付款"))])])])]),!1===j.value.is_paid?((0,u.wg)(),(0,u.iD)("div",H,C)):(0,u.kq)("",!0)],40,d)])],64)}}};const q=$;var S=q}}]);
//# sourceMappingURL=171.af9b3921.js.map